(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{432:function(s,a,t){"use strict";t.r(a);var n=t(2),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",{attrs:{align:"center"}},[a("img",{attrs:{src:"/img/blog/20220323173402.png"}})]),s._v(" "),a("h2",{attrs:{id:"一、docker简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、docker简介"}},[s._v("#")]),s._v(" 一、Docker简介")]),s._v(" "),a("p",[s._v("百科说：Docker 是一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的容器中，然后发布到任何流行的"),a("a",{attrs:{href:"https://baike.baidu.com/item/Linux",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux"),a("OutboundLink")],1),s._v("机器上，也可以实现虚拟化，容器是完全使用沙箱机制，相互之间不会有任何接口。")]),s._v(" "),a("p",[s._v("看起来有点雾，用过虚拟机的应该对虚拟化技术有点印象，不知道也没关系，就把它当成轻量级的虚拟机吧（虽然一个是完全虚拟化，一个是操作系统层虚拟化），这个解释到位：https://www.cnblogs.com/kex1n/p/6933039.html")]),s._v(" "),a("p",[s._v("百科又说：Docker 使用客户端-服务器 (C/S) 架构模式 使用远程API来管理和创建Docker容器。Docker 容器（Container）通过 Docker 镜像（Image）来创建，二者之间的关系类似于面向对象编程中的对象与类")]),s._v(" "),a("p",[s._v("那Docker由什么组成呢， 包括三个基本概念:")]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("仓库（Repository）")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("镜像（Image）")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("容器(Container）")])])])]),s._v(" "),a("p",[s._v("打个比方：你如果想玩英雄联盟中骚气的亚索，你首先得有这个英雄（Docker的镜像），然后你得花金币去英雄商店（Docker的仓库）买，接着进游戏就会看到一个半蹲的发型飘逸的剑客（Docker的容器），所以：")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("其中Registry是Docker用于存放镜像文件的仓库，Docker 仓库的概念跟Git 类似（就像商店存放所有的英雄，只是更改英雄的权限在某些非程序员手里）。")])]),s._v(" "),a("li",[a("p",[s._v("所谓镜像就是构建容器的源代码，是一个只读的模板，由一层一层的文件系统组成的，类似于虚拟机的镜像（英雄也是只读的，有自己的技能被动，你也不能进行操作）。")])]),s._v(" "),a("li",[a("p",[s._v("那么容器就是由Docker镜像创建的运行实例，类似于虚拟机，容器之间是相互隔离的，包含特定的应用及其所需的依赖文件（好比每个英雄都是隔离的，都有自己的皮肤，技能以及走的路线)。")])])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://hub.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[a("code",[s._v("Docker Hub")]),a("OutboundLink")],1),s._v("是Docker公司提供的一个注册服务器（Register）来保存多个仓库，每个仓库又可以包含多个具备不同tag的镜像")])]),s._v(" "),a("h2",{attrs:{id:"二、安装docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、安装docker"}},[s._v("#")]),s._v(" 二、安装Docker")]),s._v(" "),a("p",[s._v("我是虚拟机装的Centos7，linux 3.10 内核，docker官方说至少3.8以上，建议3.10以上（ubuntu下要linux内核3.8以上， RHEL/Centos 的内核修补过， centos6.5的版本就可以——这个可以试试）")]),s._v(" "),a("ol",[a("li",[s._v("root账户登录，查看内核版本如下")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# uname -a")]),s._v("\nLinux localhost.qgc "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.10")]),s._v(".0-862.11.6.el7.x86_64 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1 SMP Tue Aug 14 21:49:04 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("（可选）把yum包更新到最新**(生产环境慎重！yum update会对软件包和内核升级，此处只是为了排除系统环境的影响，来自笔者的备注—2019年10月30日**)")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum update")]),s._v("\n已加载插件：fastestmirror, langpacks\nLoading mirror speeds from cached hostfile\n * base: centos.ustc.edu.cn\n * extras: mirrors.aliyun.com\n * updates: centos.ustc.edu.cn\n正在解决依赖关系\n--"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 正在检查事务\n---"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 软件包 bind-libs.x86_64.32.9.9.4-61.el7 将被 升级\n---"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 软件包 bind-libs.x86_64.32.9.9.4-61.el7_5.1 将被 更新\n---"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 软件包 bind-libs-lite.x86_64.32.9.9.4-61.el7 将被 升级\n---"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 软件包 bind-libs-lite.x86_64.32.9.9.4-61.el7_5.1 将被 更新\n---"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 软件包 bind-license.noarch.32.9.9.4-61.el7 将被 升级\n---"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 软件包 bind-license.noarch.32.9.9.4-61.el7_5.1 将被 更新\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n\n验证中 "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(":bind-license-9.9.4-61.el7.noarch "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("/8\n\n更新完毕:\nbind-libs.x86_64 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(":9.9.4-61.el7_5.1\nbind-libs-lite.x86_64 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(":9.9.4-61.el7_5.1\nbind-license.noarch "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(":9.9.4-61.el7_5.1\nbind-utils.x86_64 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(":9.9.4-61.el7_5.1\n\n完毕！\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("安装需要的软件包， yum-util 提供yum-config-manager功能，另外两个是devicemapper驱动依赖的")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum install -y yum-utils device-mapper-persistent-data lvm2")]),s._v("\n已加载插件：fastestmirror, langpacks\nLoading mirror speeds from cached hostfile\n * base: centos.ustc.edu.cn\n * extras: mirrors.aliyun.com\n * updates: centos.ustc.edu.cn\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("设置yum源")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo")]),s._v("\n已加载插件：fastestmirror, langpacks\nadding repo from: https://download.docker.com/linux/centos/docker-ce.repo\ngrabbing "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" https://download.docker.com/linux/centos/docker-ce.repo to /etc/yum.repos.d/docker-ce.repo\nrepo saved to /etc/yum.repos.d/docker-ce.repo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ol",{attrs:{start:"5"}},[a("li",[s._v("可以查看所有仓库中所有docker版本，并选择特定版本安装")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum list docker-ce --showduplicates | sort -r")]),s._v("\n已加载插件：fastestmirror, langpacks\n可安装的软件包\n * updates: centos.ustc.edu.cn\nLoading mirror speeds from cached hostfile\n * extras: mirrors.aliyun.com\ndocker-ce.x86_64            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.06")]),s._v(".1.ce-3.el7                    docker-ce-stable\ndocker-ce.x86_64            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.06")]),s._v(".0.ce-3.el7                    docker-ce-stable\ndocker-ce.x86_64            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.03")]),s._v(".1.ce-1.el7.centos             docker-ce-stable\ndocker-ce.x86_64            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.03")]),s._v(".0.ce-1.el7.centos             docker-ce-stable\ndocker-ce.x86_64            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17.12")]),s._v(".1.ce-1.el7.centos             docker-ce-stable\ndocker-ce.x86_64            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17.12")]),s._v(".0.ce-1.el7.centos             docker-ce-stable\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("ol",{attrs:{start:"6"}},[a("li",[s._v("安装Docker，命令：yum install docker-ce-版本号，我选的是17.12.1.ce，如下")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum install docker-ce-17.12.1.ce")]),s._v("\n已加载插件：fastestmirror, langpacks\nLoading mirror speeds from cached hostfile\n * base: centos.ustc.edu.cn\n * extras: mirrors.aliyun.com\n * updates: centos.ustc.edu.cn\nbase                                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.6")]),s._v(" kB     00:00     \ndocker-ce-stable                                       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.9")]),s._v(" kB     00:00     \nextras                                                 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.4")]),s._v(" kB     00:00     \nupdates                                                "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.4")]),s._v(" kB     00:00     \n正在解决依赖关系\n--"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 正在检查事务\n---"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 软件包 docker-ce.x86_64.0.17.12.1.ce-1.el7.centos 将被 安装\n--"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 正在处理依赖关系 container-selinux "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.9")]),s._v("，它被软件包 docker-ce-17.12.1.ce-1.el7.centos.x86_64 需要\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("ol",{attrs:{start:"7"}},[a("li",[s._v("启动Docker，命令：systemctl start docker，然后加入开机启动，如下")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl start docker")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl enable docker")]),s._v("\nCreated symlink from /etc/systemd/system/multi-user.target.wants/docker.service to /usr/lib/systemd/system/docker.service.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ol",{attrs:{start:"8"}},[a("li",[s._v("验证安装是否成功(有client和service两部分表示docker安装启动都成功了)")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker version ")]),s._v("\nClient:\n Version:    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17.12")]),s._v(".1-ce\n API version:    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.35")]),s._v("\n Go version:    go1.9.4\n Git commit:    7390fc6\n Built:    Tue Feb "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":15:20 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v("\n OS/Arch:    linux/amd64\n\nServer:\n Engine:\n  Version:    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17.12")]),s._v(".1-ce\n  API version:    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.35")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("minimum version "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.12")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  Go version:    go1.9.4\n  Git commit:    7390fc6\n  Built:    Tue Feb "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":17:54 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v("\n  OS/Arch:    linux/amd64\n  Experimental:    "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("ol",{attrs:{start:"9"}},[a("li",[s._v("(可选) 修改docker默认源及默认工作目录")])]),s._v(" "),a("p",[s._v("新建或编辑"),a("code",[s._v("/etc/docker/daemon.json")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost conf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /etc/docker/daemon.json ")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("添加下述内容，第一行为修改默认源，第二行为修改默认工作目录")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"registry-mirrors"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://hub-mirror.c.163.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"data-root"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/home/docker"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("重启docker服务")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl start docker")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("备注：因为我已经安装过一次，部分贴图可能有出入，具体可参考博客：https://www.cnblogs.com/yufeng218/p/8370670.html")])]),s._v(" "),a("p",[a("strong",[s._v("爬一些常用Docker命令，更多命令详解，请访问：http://www.docker.org.cn/dockerppt/106.html:")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看当前正在运行的容器")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看所有容器的状态")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" start/stop id/name "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动/停止某个容器")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" attach "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#进入某个容器(使用exit退出后容器也跟着停止运行)")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ti")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动一个伪终端以交互式的方式进入某个容器（使用exit退出后容器不停止运行）")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看本地镜像")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" id/name "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除某个容器")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" rmi id/name "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除某个镜像")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ti")]),s._v(" ubuntu /bin/bash "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#复制ubuntu容器并且重命名为test且运行，然后以伪终端交互式方式进入容器，运行bash")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" build "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" soar/centos:7.1 "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#通过当前目录下的Dockerfile创建一个名为soar/centos:7.1的镜像")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2222")]),s._v(":22 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" soar/centos:7.1 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#以镜像soar/centos:7.1创建名为test的容器，并以后台模式运行，并做端口映射到宿主机2222端口，P参数重启容器宿主机端口会发生改变")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("参考地址："),a("a",{attrs:{href:"https://www.cnblogs.com/a735882640/p/13755428.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.cnblogs.com/a735882640/p/13755428.html"),a("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=e.exports}}]);